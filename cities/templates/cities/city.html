{% extends "core/__global.html" %}
{% load render_bundle from webpack_loader %}

{% block stylesheets %}
  {% render_bundle 'cities/city' 'css' %}
{% endblock %}
{% block javascripts %}
  {% render_bundle 'cities/city' 'js' %}
{% endblock %}

{% block content %}
<div class="city_img"></div>
<div class="ui segment search_form">
  <div class="ui page grid">
    <div class="four wide column">
      <label>服务类型</label>
    </div>
    <div class="twelve wide column">
      <div class="ui three column grid">
      {% for service in form.services %}
        <div class="column">
          <div class="ui secondary segment">
            <span>{{ service.title }}</span>
            <div class="ui checkbox">
              <input type="checkbox" name="{{ service.value }}">
              <label></label>
            </div>
          </div>
        </div>
      {% endfor %}
      </div>
    </div>
    <div class="four wide column">
      <label>服务人员</label>
    </div>
    <div class="twelve wide column">
      <div class="ui three column grid">
        <div class="column">
          <select class="ui fluid search dropdown">
            <option value="">please select gender</option>
            {% for gender in form.genders %}
              <option value="{{ gender.value }}">{{ gender.title }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="column">
          <select class="ui fluid search dropdown">
            <option value="">please select age</option>
            {% for age in form.ages %}
              <option value="{{ age.value }}">{{ age.title }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
    </div>
    <div class="four wide column">
      <label>服务城市</label>
    </div>
    <div class="twelve wide column">
      <div class="ui grid">
        <div class="column">
          <select class="ui fluid dropdown">
            <option value="">please select city</option>
            {% for city in form.cities %}
              <option value="{{ city.value }}">{{ city.title }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
    </div>
    <div class="ui grid hidden_content" style="display: none;">
      <div class="four wide column hidden">
        <label>服务语言</label>
      </div>
      <div class="twelve wide column hidden">
        <div class="ui three column grid">
          {% for language in form.languages %}
            <div class="column">
              <div class="ui secondary segment">
                <span>{{ language.title }}</span>
                <div class="ui checkbox">
                  <input type="checkbox" name="{{ language.value }}">
                  <label></label>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="four wide column hidden">
        <label>服务特色</label>
      </div>
      <div class="twelve wide column hidden">
        <div class="ui three column grid">
          {% for tag in form.tags %}
            <div class="column">
              <div class="ui secondary segment">
                <span>{{ tag.title }}</span>
                <div class="ui checkbox">
                  <input type="checkbox" name="{{ tag.value }}">
                  <label></label>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
<div class="ui page grid search_button">
  <div class="row search_head" style="padding-left: 14px !important;">
    <button class="ui button more_select">更多筛选项</button>
    <button class="ui button">查询</button>
    <h4 class="ui header">已为你找到 {{ services|length }} 个服务</h4>
  </div>
</div>
<div class="ui three column stackable doubling page grid search_profile">
  {% for service in services %}
    <div class="column">
      <div class="ui segment padding">
        <a href="{% url 'profiles:service_view' service.user.username service.id %}" class="profile_map" style="background-image: url('{{ service.user.profile.get_card_image_url }}');"></a>
        <a href="{% url 'profiles:profile' service.user.username %}" class="ui tiny circular image">
          <img  src="{{ service.user.profile.get_avatar_url }}" alt="User Avatar">
        </a>
        <div class="ui segment">
          <div class="row"> 
            <div class="ui header">{{ service.user.profile.get_full_name_or_username }} {{ service.user.profile.short_description }}</div>
            </strong><a href="#">{% for city in service.cities.all %}{% if not forloop.last %}{{ city.name }} , {% else %}{{ city.name }}{% endif %} {% endfor %}</a></strong>
          </div>
          <div class="ui red header average_price">€ {{ service.price }} service price unit</div>
          <div class="row content">
            <p>{{ service.content }}</p>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}
  <div class="row">
    <div class="ui center aligned inverted segment more_loader">加载更多</div>
  </div>
</div>
<div class="ui grid">
</div>

{% endblock %}